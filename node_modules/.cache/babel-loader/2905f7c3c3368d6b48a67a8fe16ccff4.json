{"ast":null,"code":"import _classCallCheck from \"/Users/arjunk/Downloads/ReactApp/React_NewsApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/arjunk/Downloads/ReactApp/React_NewsApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/arjunk/Downloads/ReactApp/React_NewsApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/arjunk/Downloads/ReactApp/React_NewsApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/arjunk/Downloads/ReactApp/React_NewsApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/Users/arjunk/Downloads/ReactApp/React_NewsApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/arjunk/Downloads/ReactApp/React_NewsApp/src/Context.js\";\nimport React, { Component, useReducer } from \"react\";\nimport axios from \"axios\";\nvar Context = React.createContext();\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case \"SEARCH_NEWS\":\n      return _objectSpread({}, state, {\n        articles: action.payload,\n        heading: \"Search Results\"\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport var Provider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Provider, _Component);\n\n  function Provider() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Provider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Provider)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      articles: [],\n      error: false,\n      toquery: \"\",\n      forCategory: \"general\",\n      forCountry: \"in\",\n      query: \"\",\n      CategoryValue: \"\",\n      CountryValue: \"\",\n      loadingcheck: true,\n      api_key: \"4305057cd3c74ce59b59f706e2a5bc52\",\n      //api_key: \"7de4507ef58c4118be7684e320da6328\",\n      heading: \"My News API\",\n      dispatch: function dispatch(action) {\n        return _this.setState(function (state) {\n          return reducer(state, action);\n        });\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Provider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"https://newsapi.org/v2/top-headlines?country=\".concat(this.state.forCountry, \"&q=\").concat(this.state.toquery, \"&category=\").concat(this.state.forCategory, \"&pageSize=20&apiKey=\").concat(this.state.api_key)).then(function (res) {\n        console.log(res.data);\n        console.log(\"https://newsapi.org/v2/top-headlines?country=\".concat(_this2.state.forCountry, \"&q=\").concat(_this2.state.toquery, \"&category=\").concat(_this2.state.forCategory, \"&pageSize=20&apiKey=\").concat(_this2.state.api_key));\n\n        _this2.setState({\n          articles: res.data.articles,\n          loadingcheck: true\n        }, function () {\n          if (localStorage.getItem(\"backupdata\") === true) {\n            // init variable/set default variable for item\n            console.log(\" backupdata\");\n            console.log(localStorage.getItem(\"backupdata\"));\n          }\n\n          localStorage.setItem(\"backupdata\", JSON.stringify(_this2.state.articles));\n          localStorage.setItem(\"forCountry\", _this2.state.forCountry);\n          localStorage.setItem(\"forCategory\", _this2.state.forCategory);\n          localStorage.setItem(\"toquery\", _this2.state.toquery);\n          localStorage.setItem(\"CountryValue\", _this2.state.CountryValue);\n          localStorage.setItem(\"CategoryValue\", _this2.state.CategoryValue);\n          localStorage.setItem(\"query\", _this2.state.query);\n        });\n      }).catch(function (err) {\n        console.log(err);\n\n        _this2.setState({\n          error: err,\n          loadingcheck: true,\n          articles: JSON.parse(localStorage.getItem(\"backupdata\")),\n          forCountry: localStorage.getItem(\"forCountry\"),\n          forCategory: localStorage.getItem(\"forCategory\"),\n          toquery: localStorage.getItem(\"toquery\"),\n          CategoryValue: localStorage.getItem(\"CategoryValue\"),\n          CountryValue: localStorage.getItem(\"CountryValue\"),\n          query: localStorage.getItem(\"query\")\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Context.Provider, {\n        value: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, this.props.children);\n    }\n  }]);\n\n  return Provider;\n}(Component);\nexport var Consumer = Context.Consumer;","map":{"version":3,"sources":["/Users/arjunk/Downloads/ReactApp/React_NewsApp/src/Context.js"],"names":["React","Component","useReducer","axios","Context","createContext","reducer","state","action","type","articles","payload","heading","Provider","error","toquery","forCategory","forCountry","query","CategoryValue","CountryValue","loadingcheck","api_key","dispatch","setState","get","then","res","console","log","data","localStorage","getItem","setItem","JSON","stringify","catch","err","parse","props","children","Consumer"],"mappings":"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","sourcesContent":["import React, { Component, useReducer } from \"react\";\nimport axios from \"axios\";\n\nconst Context = React.createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SEARCH_NEWS\":\n      return {\n        ...state,\n        articles: action.payload,\n        heading: \"Search Results\"\n      };\n    default:\n      return state;\n  }\n};\n\nexport class Provider extends Component {\n  state = {\n    articles: [],\n    error: false,\n    toquery: \"\",\n    forCategory: \"general\",\n    forCountry: \"in\",\n    query: \"\",\n    CategoryValue: \"\",\n    CountryValue: \"\",\n    loadingcheck: true,\n    api_key: \"4305057cd3c74ce59b59f706e2a5bc52\",\n    //api_key: \"7de4507ef58c4118be7684e320da6328\",\n    heading: \"My News API\",\n    dispatch: action => this.setState(state => reducer(state, action))\n  };\n\n  componentDidMount() {\n    axios\n      .get(\n        `https://newsapi.org/v2/top-headlines?country=${\n          this.state.forCountry\n        }&q=${this.state.toquery}&category=${\n          this.state.forCategory\n        }&pageSize=20&apiKey=${this.state.api_key}`\n      )\n      .then(res => {\n        console.log(res.data);\n        console.log(\n          `https://newsapi.org/v2/top-headlines?country=${\n            this.state.forCountry\n          }&q=${this.state.toquery}&category=${\n            this.state.forCategory\n          }&pageSize=20&apiKey=${this.state.api_key}`\n        );\n        this.setState(\n          { articles: res.data.articles, loadingcheck: true },\n          () => {\n            \n            if (localStorage.getItem(\"backupdata\") === true) {\n              // init variable/set default variable for item\n              console.log(\" backupdata\");\n              console.log(localStorage.getItem(\"backupdata\"));\n            }\n            localStorage.setItem(\"backupdata\", JSON.stringify(this.state.articles));\n            localStorage.setItem(\"forCountry\", this.state.forCountry);\n            localStorage.setItem(\"forCategory\", this.state.forCategory);\n            localStorage.setItem(\"toquery\", this.state.toquery);\n            localStorage.setItem(\"CountryValue\", this.state.CountryValue);\n            localStorage.setItem(\"CategoryValue\", this.state.CategoryValue);\n            localStorage.setItem(\"query\", this.state.query);\n          }\n        );\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          error: err,\n          loadingcheck: true,\n          articles: JSON.parse(localStorage.getItem(\"backupdata\")),\n          forCountry: localStorage.getItem(\"forCountry\"),\n          forCategory: localStorage.getItem(\"forCategory\"),\n          toquery: localStorage.getItem(\"toquery\"),\n          CategoryValue: localStorage.getItem(\"CategoryValue\"),\n          CountryValue: localStorage.getItem(\"CountryValue\"),\n          query: localStorage.getItem(\"query\")\n        });\n      });\n  }\n\n  render() {\n    return (\n      <Context.Provider value={this.state}>\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport const Consumer = Context.Consumer;\n"]},"metadata":{},"sourceType":"module"}